jQuery(document).ready(function(a){a.fn.exists=function(){return a(this).length>0},a.fn.loaded=function(b,c,d){var e=this.length;return e>0?this.each(function(){var d=this,f=a(d);f.on("load.dt",function(d){a(this).off("load.dt"),"function"==typeof b&&b.call(this),--e<=0&&"function"==typeof c&&c.call(this)}),d.complete&&void 0!==d.complete?f.trigger("load.dt"):d.src=d.src}):d?("function"==typeof c&&c.call(this),this):void 0};var b=a("body"),c=(a(window),a("#main-slideshow"));a("#wpadminbar").height(),a(".masthead:not(.side-header):not(.side-header-v-stroke)").height(),b.hasClass("transparent"),a(".floating-navigation-below-slider").exists(),a(".masthead");if(b.hasClass("transparent"));else if(b.hasClass("overlap")){a(".masthead:not(.side-header):not(.side-header-v-stroke)").height()+(parseInt(c.css("marginTop"))+parseInt(c.css("marginBottom")))}else{a(".masthead:not(.side-header):not(.side-header-v-stroke)").height()}a.HoverDir=function(b,c){this.$el=a(c),this._init(b)},a.HoverDir.defaults={speed:300,easing:"ease",hoverDelay:0,inverse:!1},a.HoverDir.prototype={_init:function(b){this.options=a.extend(!0,{},a.HoverDir.defaults,b),this.transitionProp="all "+this.options.speed+"ms "+this.options.easing,this.support=Modernizr.csstransitions,this._loadEvents()},_loadEvents:function(){var b=this;this.$el.on("mouseenter.hoverdir, mouseleave.hoverdir",function(c){var d=a(this),e=d.find(".rollover-content, .post-entry-content, .gallery-rollover"),f=b._getDir(d,{x:c.pageX,y:c.pageY}),g=b._getStyle(f);"mouseenter"===c.type?(e.hide().css(g.from),clearTimeout(b.tmhover),b.tmhover=setTimeout(function(){e.show(0,function(){var c=a(this);b.support&&c.css("transition",b.transitionProp),b._applyAnimation(c,g.to,b.options.speed)})},b.options.hoverDelay)):(b.support&&e.css("transition",b.transitionProp),clearTimeout(b.tmhover),b._applyAnimation(e,g.from,b.options.speed))})},_getDir:function(a,b){var c=a.width(),d=a.height(),e=(b.x-a.offset().left-c/2)*(c>d?d/c:1),f=(b.y-a.offset().top-d/2)*(d>c?c/d:1),g=Math.round((Math.atan2(f,e)*(180/Math.PI)+180)/90+3)%4;return g},_getStyle:function(a){var b,c,d={left:"0px",top:"-100%"},e={left:"0px",top:"100%"},f={left:"-100%",top:"0px"},g={left:"100%",top:"0px"},h={top:"0px"},i={left:"0px"};switch(a){case 0:b=this.options.inverse?e:d,c=h;break;case 1:b=this.options.inverse?f:g,c=i;break;case 2:b=this.options.inverse?d:e,c=h;break;case 3:b=this.options.inverse?g:f,c=i}return{from:b,to:c}},_applyAnimation:function(b,c,d){a.fn.applyStyle=this.support?a.fn.css:a.fn.animate,b.stop().applyStyle(c,a.extend(!0,[],{duration:d+"ms"}))}};var d=function(a){window.console&&window.console.error(a)};a.fn.hoverdir=function(b){var c=a.data(this,"hoverdir");if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){return c?a.isFunction(c[b])&&"_"!==b.charAt(0)?void c[b].apply(c,e):void d("no such method '"+b+"' for hoverdir instance"):void d("cannot call methods on hoverdir prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){c?c._init():c=a.data(this,"hoverdir",new a.HoverDir(b,this))});return c},a(".mobile-false .hover-grid .rollover-project, .mobile-false .hover-grid.portfolio-shortcode .post, .mobile-false .hover-grid.album-gallery-shortcode .post, .mobile-false .hover-grid.albums-shortcode .post").each(function(){a(this).hoverdir()}),a(".mobile-false .hover-grid-reverse .rollover-project, .mobile-false .hover-grid-reverse.portfolio-shortcode .post, .mobile-false .hover-grid-reverse.album-gallery-shortcode .post, .mobile-false .hover-grid-reverse.albums-shortcode .post ").each(function(){a(this).hoverdir({inverse:!0})}),a.fn.addIconToLinks=function(){return this.each(function(){var b=a(this);b.hasClass("icon-ready")||(a("<span class='icon-portfolio'></span>").appendTo(a(this)),b.addClass("icon-ready"))})},a(".links-container a").addIconToLinks(),a.fn.forwardToPost=function(){return this.each(function(){var b=a(this);b.hasClass("this-ready")||(b.on("click",function(){if(!b.parents(".ts-wrap").hasClass("ts-interceptClicks"))return window.location.href=b.find("a").first().attr("href"),!1}),b.addClass("this-ready"))})},a(".mobile-false .rollover-project.forward-post").forwardToPost(),a.fn.touchforwardToPost=function(){return this.each(function(){var c=a(this);if(!c.hasClass("touch-hover-ready")){b.on("touchend",function(b){a(".mobile-true .rollover-content").removeClass("is-clicked"),a(".mobile-true .rollover-project").removeClass("is-clicked")});var c=a(this).find(".rollover-content");c.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),c.on("touchend",function(b){var d=b.originalEvent.changedTouches[0].pageX,e=b.originalEvent.changedTouches[0].pageY;if(origY==e||origX==d){if(!c.hasClass("is-clicked"))return b.preventDefault(),a(".mobile-ture .rollover-content").removeClass("is-clicked"),a(".mobile-true .rollover-project").removeClass("is-clicked"),c.addClass("is-clicked"),c.parent(".rollover-project").addClass("is-clicked"),!1;window.location.href=c.prev("a").first().attr("href")}}),c.addClass("touch-hover-ready")}})},a(".mobile-true .rollover-project.forward-post").touchforwardToPost(),a.fn.followCurentLink=function(){return this.each(function(){if(a(this).parents(".content-rollover-layout-list").length>0||a(this).parents(".gradient-overlay-layout-list").length>0)var b=a(this).parent("article");else var b=a(this);if(!b.hasClass("this-ready")){var c=b.parent().find(".links-container > a, .project-links-container > a"),d=b.find(".portfolio-categories a"),e=b.find(".post-details"),f=!1;b.on("click",function(){if(!b.parents(".ts-wrap").hasClass("ts-interceptClicks"))return c.each(function(){g=a(this).attr("target")?a(this).attr("target"):"_self"}),c.hasClass("project-details")||c.hasClass("link")||c.hasClass("project-link")?(window.open(c.attr("href"),g),!1):(f||(f=!0,c.trigger("click"),f=!1),!1)}),b.find(d).click(function(a){a.stopPropagation(),window.location.href=d.attr("href")});var g="undefined"!=typeof e.attr("target")&&e.attr("target").length>0?e.attr("target"):"_self";b.find(e).click(function(a){a.stopPropagation(),a.preventDefault(),window.open(e.attr("href"),g)}),b.addClass("this-ready")}})},a(".mobile-false .rollover-project.rollover-active, .mobile-false .rollover-active,  .mobile-false .buttons-on-img.rollover-active").followCurentLink(),a.fn.touchFollowCurentLink=function(){return this.each(function(){if(a(this).parents(".content-rollover-layout-list").length>0||a(this).parents(".gradient-overlay-layout-list").length>0)var c=a(this).parent("article");else var c=a(this);if(!c.hasClass("this-ready")){var d=c.parent().find(".links-container > a, .project-links-container > a"),e=c.find(".portfolio-categories a"),f=!1;b.on("touchend",function(b){a(".mobile-true .rollover-content").removeClass("is-clicked"),a(".mobile-true .rollover-active").removeClass("is-clicked"),a(".mobile-true .rollover-active").parent("article").removeClass("is-clicked")}),c.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),c.on("touchend",function(b){var e=b.originalEvent.changedTouches[0].pageX,g=b.originalEvent.changedTouches[0].pageY;if(origY==g||origX==e){if(c.hasClass("is-clicked")){if(c.parents(".ts-wrap").hasClass("ts-interceptClicks"))return;return d.each(function(){$thisTarget=a(this).attr("target")?a(this).attr("target"):"_self"}),d.hasClass("project-details")||d.hasClass("link")||d.hasClass("project-link")?(window.open(d.attr("href"),$thisTarget),!1):(f||(f=!0,d.trigger("click"),f=!1),!1)}return b.preventDefault(),c.addClass("is-clicked"),!1}}),c.find(e).click(function(a){a.stopPropagation(),window.location.href=e.attr("href")}),c.addClass("this-ready")}})},a(".mobile-true .rollover-project.rollover-active, .mobile-true .rollover-active,  .mobile-true .buttons-on-img.rollover-active").touchFollowCurentLink(),a.fn.touchRolloverPostClick=function(){return this.each(function(){var c=a(this);c.find(".post-thumbnail-rollover").first(),c.find(".entry-meta a, .fancy-date a, .fancy-categories a"),c.find(".entry-excerpt").height()+c.find(".post-details").height();b.on("touchend",function(b){a(".mobile-true .post").removeClass("is-clicked")}),c.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),c.on("touchend",function(b){var d=b.originalEvent.changedTouches[0].pageX,e=b.originalEvent.changedTouches[0].pageY;if(origY==e||origX==d){if(!c.hasClass("is-clicked"))return b.preventDefault(),"a"===b.target.tagName.toLowerCase(),a(".mobile-ture .post").removeClass("is-clicked"),c.addClass("is-clicked"),c.parent().siblings().find(".post").removeClass("is-clicked"),!1;c.parents().hasClass("disable-layout-hover")&&"a"===b.target.tagName.toLowerCase()&&a(b.target).trigger("click")}})})},a(".mobile-true .content-rollover-layout-list.portfolio-shortcode .post, .mobile-true .gradient-overlay-layout-list.portfolio-shortcode .post").touchRolloverPostClick(),a.fn.touchHoverImage=function(){return this.each(function(){var c=a(this);if(!c.hasClass("hover-ready")){b.on("touchend",function(b){a(".mobile-true .rollover-content").removeClass("is-clicked")});var d=a(this).find(".rollover-content");d.parents(".wf-cell");d.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),d.on("touchend",function(b){var c=b.originalEvent.changedTouches[0].pageX,e=b.originalEvent.changedTouches[0].pageY;if((origY==e||origX==c)&&!d.hasClass("is-clicked"))return a(".links-container > a",d).on("touchend",function(a){a.stopPropagation(),d.addClass("is-clicked")}),b.preventDefault(),a(".mobile-true .buttons-on-img .rollover-content").removeClass("is-clicked"),d.addClass("is-clicked"),!1}),c.addClass("hover-ready")}})},a(".mobile-true .buttons-on-img").touchHoverImage(),a.fn.touchScrollerImage=function(){return this.each(function(){var c=a(this);if(!c.hasClass("hover-ready")){b.on("touchend",function(b){a(".mobile-true .project-list-media").removeClass("is-clicked")});var d=a(this),e=d.find("a.rollover-click-target").first(),f=d.find(".links-container");d.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),d.on("touchend",function(b){var c=b.originalEvent.changedTouches[0].pageX,g=b.originalEvent.changedTouches[0].pageY;if(!d.parents(".ts-wrap").hasClass("ts-interceptClicks"))return origY!=g&&origX!=c||d.hasClass("is-clicked")?void 0:(e.length>0&&(e.on("click",function(b){b.stopPropagation(),a(this).hasClass("go-to")&&(window.location.href=a(this).attr("href"))}),e.trigger("click")),f.length>0&&f.find(" > a ").each(function(){a(this).on("touchend",function(b){b.stopPropagation(),a(this).trigger("click")})}),b.preventDefault(),a(".mobile-true .dt-owl-item").removeClass("is-clicked"),d.addClass("is-clicked"),!1)}),c.addClass("hover-ready")}})},a(".mobile-true .project-list-media").touchScrollerImage(),a.fn.touchHoverLinks=function(){return this.each(function(){var b=a(this);if(!b.hasClass("hover-ready")){var c=a(this);c.on("touchend",function(b){if(!c.parents(".ts-wrap").hasClass("ts-interceptClicks"))return c.hasClass("is-clicked")?void 0:c.hasClass("project-zoom")?(c.trigger("click"),a(".mobile-true .links-container > a").removeClass("is-clicked"),c.addClass("is-clicked"),!1):(window.location.href=c.attr("href"),!1)}),b.addClass("hover-ready")}})},a(".mobile-true .dt-owl-item .links-container > a").touchHoverLinks(),a.fn.triggerAlbumsClick=function(){return this.each(function(){var b=a(this);if(!b.hasClass("this-ready")){var c=b.find("a.rollover-click-target, a.dt-pswp-item").first(),d=b.find(".portfolio-categories a");if(c.length>0){c.on("click",function(b){b.preventDefault(),c.parents(".ts-wrap").hasClass("ts-interceptClicks")||a(this).hasClass("go-to")&&(window.location.href=a(this).attr("href"))});var e=!1;b.on("click",function(){if(!b.parents(".ts-wrap").hasClass("ts-interceptClicks"))return e||(e=!0,c.trigger("click"),e=!1),!1}),b.find(d).click(function(a){a.stopPropagation(),window.location.href=d.attr("href")})}b.addClass("this-ready")}})},a(".mobile-false .dt-albums-template .rollover-project, .mobile-false .dt-albums-shortcode .rollover-project, .mobile-false .dt-albums-template .buttons-on-img, .mobile-false .dt-albums-shortcode .buttons-on-img, .mobile-false .archive .type-dt_gallery .buttons-on-img, .mobile-false .albums-shortcode:not(.content-rollover-layout-list):not(.gradient-overlay-layout-list) .post-thumbnail").triggerAlbumsClick(),a.fn.triggerOverlayAlbumsClick=function(){return this.each(function(){var b=a(this);if(!b.hasClass("this-overlay-ready")){var c=b.parents(".post").first().find("a.rollover-click-target, a.dt-pswp-item").first(),d=b.find(".portfolio-categories a");if(c.length>0){c.on("click",function(b){b.preventDefault(),c.parents(".ts-wrap").hasClass("ts-interceptClicks")||a(this).hasClass("go-to")&&(window.location.href=a(this).attr("href"))});var e=!1;b.on("click",function(){if(!b.parents(".ts-wrap").hasClass("ts-interceptClicks"))return e||(e=!0,c.trigger("click"),e=!1),!1}),b.find(d).click(function(a){a.stopPropagation(),window.location.href=d.attr("href")})}b.addClass("this-overlay-ready")}})},a(" .mobile-false .albums-shortcode.content-rollover-layout-list .post-entry-content, .mobile-false .albums-shortcode.gradient-overlay-layout-list .post-entry-content").triggerOverlayAlbumsClick(),a.fn.triggerOverlayAlbumsTouch=function(){return this.each(function(){var c=a(this),d=c.find("a.rollover-click-target, a.dt-pswp-item").first(),e=c.find(".portfolio-categories a");b.on("touchend",function(b){a(".mobile-true .post").removeClass("is-clicked")}),c.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),c.on("touchend",function(b){var f=b.originalEvent.changedTouches[0].pageX,g=b.originalEvent.changedTouches[0].pageY;if(origY<=g+5&&origY>=g-5||origX<=f+5&&origX==f-5){if(!c.hasClass("is-clicked"))return b.preventDefault(),a(".mobile-ture .post").removeClass("is-clicked"),c.parent().siblings().find(".post").removeClass("is-clicked"),c.addClass("is-clicked"),!1;d.hasClass("go-to")&&(window.location.href=d.attr("href")),d.trigger("click"),c.find(e).click(function(a){a.stopPropagation(),window.location.href=e.attr("href")})}})})},a(" .mobile-true .albums-shortcode.content-rollover-layout-list .post, .mobile-true .albums-shortcode.gradient-overlay-layout-list .post").triggerOverlayAlbumsTouch(),a.fn.triggerAlbumsTouch=function(){return this.each(function(){var c=a(this);if(!c.hasClass("this-touch-ready")){var d=c.find("a.rollover-click-target, a.dt-pswp-item").first(),e=c.find(".portfolio-categories a");if(b.on("touchend",function(b){a(".mobile-true .rollover-content").removeClass("is-clicked")}),d.length>0){d.on("click",function(b){b.preventDefault(),d.parents(".ts-wrap").hasClass("ts-interceptClicks")||a(this).hasClass("go-to")&&(window.location.href=a(this).attr("href"))});var f=!1;c.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),c.on("touchend",function(a){var b=a.originalEvent.changedTouches[0].pageX,e=a.originalEvent.changedTouches[0].pageY;if(origY<=e+5&&origY>=e-5||origX<=b+5&&origX==b-5){if(c.parents(".ts-wrap").hasClass("ts-interceptClicks"))return;return f||(f=!0,d.trigger("click"),f=!1),!1}}),c.find(e).click(function(a){a.stopPropagation(),window.location.href=e.attr("href")})}c.addClass("this-touch-ready")}})},a(".mobile-true .dt-albums-template .rollover-project, .mobile-true .dt-albums-shortcode .rollover-project, .mobile-true .dt-albums-template .buttons-on-img, .mobile-true .dt-albums-shortcode .buttons-on-img, .mobile-true .archive .type-dt_gallery .buttons-on-img, .mobile-true .albums-shortcode:not(.content-rollover-layout-list):not(.gradient-overlay-layout-list) .post-thumbnail").triggerAlbumsTouch(),a.fn.triggerHoverClick=function(){return this.each(function(){var b=a(this);if(!b.hasClass("click-ready")){var c,d=b.prev("a:not(.dt-single-pswp):not(.dt-pswp-item)").first(),e=b.find(".portfolio-categories a"),f=b.find(".project-link"),g=f.attr("target")?f.attr("target"):"_self";if(d.length>0){var h=!1;b.on("click",function(e){if(!b.parents(".ts-wrap").hasClass("ts-interceptClicks")&&!b.parents(".owl-carousel").hasClass("ts-interceptClicks"))return c=a(e.target),c.hasClass("project-zoom")||c.parent("a").hasClass("project-zoom")?console.log(c):h||(h=!0,d.trigger("click"),window.location.href=d.attr("href"),h=!1),!1}),b.find(f).click(function(a){a.stopPropagation(),a.preventDefault(),window.open(f.attr("href"),g)}),b.find(e).click(function(a){a.stopPropagation(),window.location.href=e.attr("href")})}b.addClass("click-ready")}})},a(".mobile-false .rollover-project:not(.rollover-active) .rollover-content, .mobile-false .buttons-on-img:not(.rollover-active) .rollover-content").triggerHoverClick()}),function(a){a.fn.collagePlus=function(b){function c(b,c,e,f){for(var g=e.padding*b.length+b.length*b[0][3],h=e.albumWidth-g,i=h/(c-g),j=g,k=c<e.albumWidth,l=0;l<b.length;l++){var m=a(b[l][0]),n=Math.floor(b[l][1]*i),o=Math.floor(b[l][2]*i),p=!!(l<b.length-1);e.allowPartialLastRow===!0&&k===!0&&(n=b[l][1],o=b[l][2]),j+=n;var q=m.is("img")?m:m.find("img").first();q.width(n),m.is("img")||m.width(n+b[l][3]),q.height(o),m.is("img")||m.height(o+b[l][4]),e.allowPartialLastRow===!1&&k===!0?d(m,p,"none"):d(m,p,e.display)}}function d(a,b,c){var d={display:c,"vertical-align":"bottom",overflow:"hidden"};return a.css(d)}function e(b){$img=a(b);var c=new Array;return c.w=parseFloat($img.css("border-left-width"))+parseFloat($img.css("border-right-width")),c.h=parseFloat($img.css("border-top-width"))+parseFloat($img.css("border-bottom-width")),c}var f={targetHeight:400,albumWidth:this.width(),padding:parseFloat(this.css("padding-left")),images:this.children(),fadeSpeed:"fast",display:"inline-block",effect:"default",direction:"vertical",allowPartialLastRow:!1},g=a.extend({},f,b);return this.each(function(){var b=0,d=[],f=1;g.images.each(function(h){var i=a(this),j=i.is("img")?i:a(this).find("img").first();if("undefined"!=j.attr("width")&&"undefined"!=j.attr("height"))var k="undefined"!=typeof j.data("width")?j.data("width"):j.attr("width"),l="undefined"!=typeof j.data("height")?j.data("height"):j.attr("height");else var k="undefined"!=typeof j.data("width")?j.data("width"):j.width(),l="undefined"!=typeof j.data("height")?j.data("height"):j.height();var m=e(j);j.data("width",k),j.data("height",l);var n=Math.ceil(k/l*g.targetHeight),o=Math.ceil(g.targetHeight);d.push([this,n,o,m.w,m.h]),b+=n+m.w+g.padding,b>g.albumWidth&&0!=d.length&&(c(d,b,g,f),delete b,delete d,b=0,d=[],f+=1),g.images.length-1==h&&0!=d.length&&(c(d,b,g,f),delete b,delete d,b=0,d=[],f+=1)}),a(this).trigger("jgDone")})};var b=0;a(".jg-container").each(function(){b++;var c=a(this),d=c.attr("data-padding");c.find(".wf-cell");c.attr("id","jg-container-"+b),a("<style type='text/css'> .content #jg-container-"+b+" .wf-cell{padding:"+d+";} .content #jg-container-"+b+".wf-container{margin:-"+d+";} .content .full-width-wrap #jg-container-"+b+".wf-container{margin-left:"+d+"; margin-right:"+d+"; margin-top:-"+d+"; margin-bottom:-"+d+";}</style>").insertAfter(c);var e;c.on("jgDone",function(){new Layzr({selector:".jgrid-lazy-load",attr:"data-src",attrSrcSet:"data-srcset",retinaAttr:"data-src-retina",threshold:0,before:function(){this.setAttribute("sizes",this.width+"px"),this.style.willChange="opacity"},callback:function(){this.classList.add("jgrid-layzr-loaded");var b=a(this);b.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(a){clearTimeout(e),e=setTimeout(function(){b.parent().removeClass("layzr-bg"),b.css("will-change","auto")},200)})}})})}),a.fn.collage=function(b){return this.each(function(){var c=(a(this),a(this)),d=c.attr("data-padding"),e=c.find(".wf-cell"),f=parseFloat(e.first().css("padding-left"))+parseFloat(e.first().css("padding-right")),g=parseInt(c.attr("data-target-height")),h=!0;if("false"==c.attr("data-part-row")&&(h=!1),c.parent(".full-width-wrap").length)var i=c.parents(".full-width-wrap").width()-2*parseInt(d);else var i=c.parent().width()+2*parseInt(d);var j={albumWidth:i,targetHeight:g,padding:f,allowPartialLastRow:h,fadeSpeed:2e3,effect:"effect-1",direction:"vertical"};a.extend(j,b),dtGlobals.jGrid=j,c.collagePlus(j),c.css({width:i})})},a(window).on("debouncedresize",function(){a(".jg-container").not(".jgrid-shortcode").collage(),a(".jgrid-shortcode").each(function(){var b=a(this),c=b.data("visibleItems");c?b.collage({images:c}):b.collage()})}).trigger("debouncedresize")}(jQuery);